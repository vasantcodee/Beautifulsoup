

url = 'https://www.discogs.com/sell/release/3000851?ev=rb'

headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}


response = requests.get(url, headers=headers)

soup = BeautifulSoup(response.text, 'html.parser')
script_tag = soup.find('script', {'id': 'release_schema'})

json_data = json.loads(script_tag.contents[0])

artists = [artist.get('name') for artist in json_data.get('releaseOf', {}).get('byArtist', [])]

artist = ', '.join(filter(None, artists))


if artist:
        print(f'Artist(s): {artist}')

title = json_data.get('name')

if title:
        print(f'Title: {title}')

offer_count = json_data.get('Offers', {}).get('offerCount')
if offer_count is not None:
            print(f'Number of Offers: {offer_count}')

 currency_type = json_data.get('Offers', {}).get('priceCurrency')

if currency_type:
            print(f'Currency Type: {currency_type}')

To create database

import sqlite3
conn = sqlite3.connect('your_database.db')
cur = conn.cursor()
cur.execute('CREATE TABLE IF NOT EXISTS discogs (id INTEGER PRIMARY KEY AUTOINCREMENT, Aname TEXT, title TEXT, no_offers INTEGER, currency TEXT)')
cur.execute('INSERT INTO discogs (Aname, title, no_offers, currency) VALUES ("Louis Philippe & Dean Brodrick", "Rainfall", 2, "USD")')
conn.commit()
cur.execute('SELECT * FROM discogs')
for row in cur.fetchall():
    print(row)
cur.close()
conn.close()
